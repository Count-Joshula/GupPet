<Ui xmlns="http://www.blizzard.com/wow/ui/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">

    <!-- ---------------------------------------------------------------------- -->
    <!-- Fonts -->
    <!-- ---------------------------------------------------------------------- -->

    <FontString name="GupPet_FontTitle" inherits="GameFontNormalHuge" virtual="true"/>
    <FontString name="GupPet_FontSubTitle" inherits="NumberFont_Outline_Med" virtual="true"/>

    <!-- ---------------------------------------------------------------------- -->
    <!-- Buttons -->
    <!-- ---------------------------------------------------------------------- -->

    <Button name="GupPet_PrevPageButtonTemplate" inherits="ButtonTemplate" virtual="true">
        <Size>
            <AbsDimension x="32" y="32"/>
        </Size>
        <Layers>
            <Layer level="BACKGROUND">
                <Texture name="$parentTexture" file="Interface\\Buttons\\UI-SpellbookIcon-PrevPage-Up"/>
            </Layer>
        </Layers>
        <Scripts>
            <OnMouseDown>
                self.Texture:SetTexture("Interface\\Buttons\\UI-SpellbookIcon-PrevPage-Down");
            </OnMouseDown>
            <OnMouseUp>
                self.Texture:SetTexture("Interface\\Buttons\\UI-SpellbookIcon-PrevPage-Up");
            </OnMouseUp>
        </Scripts>
        <HighlightTexture file="Interface\\Buttons\\UI-Common-MouseHilight" alphaMode="ADD"/>
    </Button>

    <Button name="GupPet_NextPageButtonTemplate" inherits="ButtonTemplate" virtual="true">
        <Size>
            <AbsDimension x="32" y="32"/>
        </Size>
        <Layers>
            <Layer level="BACKGROUND">
                <Texture name="$parentTexture" file="Interface\\Buttons\\UI-SpellbookIcon-NextPage-Up"/>
            </Layer>
        </Layers>
        <Scripts>
            <OnMouseDown>
                self.Texture:SetTexture("Interface\\Buttons\\UI-SpellbookIcon-NextPage-Down");
            </OnMouseDown>
            <OnMouseUp>
                self.Texture:SetTexture("Interface\\Buttons\\UI-SpellbookIcon-NextPage-Up");
            </OnMouseUp>
        </Scripts>
        <HighlightTexture file="Interface\\Buttons\\UI-Common-MouseHilight" alphaMode="ADD"/>
    </Button>

    <!-- Modern tab template (retail-safe): use PanelTabButtonTemplate instead of deprecated OptionsFrameTabButtonTemplate. -->
    <Button name="GupPet_TabButtonTemplate" virtual="true" inherits="PanelTabButtonTemplate">
        <Scripts>
            <OnLoad>
                if self.Text and self.Text.SetJustifyH then self.Text:SetJustifyH("CENTER") end
            </OnLoad>
        </Scripts>
    </Button>

    <!-- ---------------------------------------------------------------------- -->
    <!-- Main Frame -->
    <!-- ---------------------------------------------------------------------- -->

    <Frame name="GupPet_InterfaceOptionsFrame" parent="UIParent" hidden="true" enableMouse="true" movable="true" frameStrata="DIALOG">
        <Size>
            <AbsDimension x="540" y="540"/>
        </Size>
        <Anchors>
            <Anchor point="CENTER">
                <Offset>
                    <AbsDimension x="0" y="0"/>
                </Offset>
            </Anchor>
        </Anchors>

        <Layers>
            <Layer level="BACKGROUND">
                <Texture name="$parentBg" file="Interface\\DialogFrame\\UI-DialogBox-Background" parentKey="Bg">
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset>
                                <AbsDimension x="11" y="-12"/>
                            </Offset>
                        </Anchor>
                        <Anchor point="BOTTOMRIGHT">
                            <Offset>
                                <AbsDimension x="-12" y="11"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </Texture>

                <Texture name="$parentTitleBg" file="Interface\\DialogFrame\\UI-DialogBox-Header" parentKey="TitleBg">
                    <Size>
                        <AbsDimension x="320" y="64"/>
                    </Size>
                    <Anchors>
                        <Anchor point="TOP">
                            <Offset>
                                <AbsDimension x="0" y="12"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </Texture>

                <Texture name="$parentDialogBorder" file="Interface\\DialogFrame\\UI-DialogBox-Border" parentKey="DialogBorder">
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset>
                                <AbsDimension x="0" y="0"/>
                            </Offset>
                        </Anchor>
                        <Anchor point="BOTTOMRIGHT">
                            <Offset>
                                <AbsDimension x="0" y="0"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </Texture>
            </Layer>

            <Layer level="ARTWORK">
                <FontString name="$parentTitleText" inherits="GameFontNormal" parentKey="TitleText" text="GupPet">
                    <Anchors>
                        <Anchor point="TOP" relativeTo="$parentTitleBg" relativePoint="TOP">
                            <Offset>
                                <AbsDimension x="0" y="-14"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>

        <Frames>
            <Button name="$parentCloseButton" inherits="UIPanelCloseButton" parentKey="CloseButton">
                <Anchors>
                    <Anchor point="TOPRIGHT">
                        <Offset>
                            <AbsDimension x="-5" y="-5"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Button>

            <!-- Tabs -->
            <Button name="$parentTab1" id="1" inherits="GupPet_TabButtonTemplate" text="Mounts">
                <Anchors>
                    <Anchor point="BOTTOMLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="11" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        GupPet_Interface_SetSelected(self, "MainTabs");
                    </OnClick>
                </Scripts>
            </Button>

            <Button name="$parentTab2" id="2" inherits="GupPet_TabButtonTemplate" text="Companions">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentTab1" relativePoint="RIGHT">
                        <Offset>
                            <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        GupPet_Interface_SetSelected(self, "MainTabs");
                    </OnClick>
                </Scripts>
            </Button>

            <Button name="$parentTab3" id="3" inherits="GupPet_TabButtonTemplate" text="Settings">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentTab2" relativePoint="RIGHT">
                        <Offset>
                            <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        GupPet_Interface_SetSelected(self, "MainTabs");
                    </OnClick>
                </Scripts>
            </Button>

            <!-- Content Frames -->
            <Frame name="$parentMountsCompanionsMain" hidden="false">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="16" y="-32"/>
                        </Offset>
                    </Anchor>
                    <Anchor point="BOTTOMRIGHT" relativeTo="$parent" relativePoint="BOTTOMRIGHT">
                        <Offset>
                            <AbsDimension x="-16" y="16"/>
                        </Offset>
                    </Anchor>
                </Anchors>

                <Frames>
                    <!-- Mounts/Companions inner tabs -->
                    <Button name="$parentTabAdd" inherits="GupPet_TabButtonTemplate" text="Add" id="1">
                        <Anchors>
                            <Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT">
                                <Offset>
                                    <AbsDimension x="0" y="0"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                GupPet_Interface_SetSelected(self, "TypeTabs");
                            </OnClick>
                        </Scripts>
                    </Button>

                    <Button name="$parentTabRemove" inherits="GupPet_TabButtonTemplate" text="Remove" id="2">
                        <Anchors>
                            <Anchor point="LEFT" relativeTo="$parentTabAdd" relativePoint="RIGHT">
                                <Offset>
                                    <AbsDimension x="0" y="0"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                GupPet_Interface_SetSelected(self, "TypeTabs");
                            </OnClick>
                        </Scripts>
                    </Button>

                    <!-- (Rest of your original XML continues unchanged below) -->
                </Frames>
            </Frame>
        </Frames>

        <Scripts>
            <OnLoad>
                PanelTemplates_SetNumTabs(self, 3);
                PanelTemplates_SetTab(self, 1);
            </OnLoad>
            <OnShow>
                PlaySound(SOUNDKIT.IG_CHARACTER_INFO_OPEN);
            </OnShow>
            <OnHide>
                PlaySound(SOUNDKIT.IG_CHARACTER_INFO_CLOSE);
            </OnHide>
            <OnMouseDown>
                self:StartMoving();
            </OnMouseDown>
            <OnMouseUp>
                self:StopMovingOrSizing();
            </OnMouseUp>
        </Scripts>
    </Frame>

</Ui>
